import sqlite3

# 连接数据库
conn = sqlite3.connect("my_database.db")
c = conn.cursor()

# ✅ 清空三表
c.executescript("""
DELETE FROM valves;
DELETE FROM pipes;
DELETE FROM building_nodes;
""")
print("✅ 已清空三表数据")

# ✅ 插入 building_nodes 表（符合现实布局）
c.executescript("""
INSERT INTO building_nodes (Node_ID, Node_Name, Node_Type, Level, Location_X, Location_Y) VALUES
('N000', '主水厂', '水厂', 'A', 0, 2),
('N001', '备用水厂', '水厂', 'A', 1, 4),
('N002', '中心医院', '医院', 'A', 2, 2),
('N003', '指挥中心', '行政', 'A', 3, 3),
('N004', '消防站', '消防', 'A', 4, 2),
('N005', '一小', '学校', 'B', 2, 4),
('N006', '二小', '学校', 'B', 3, 5),
('N007', '三小', '学校', 'B', 1, 6),
('N008', '幼儿园', '教育', 'B', 0, 5),
('N009', '商业区', '商业', 'B', 4, 5),
('N010', '工业园1', '工业', 'B', 3, 1),
('N011', '工业园2', '工业', 'B', 2, 0),
('N012', '工业园3', '工业', 'B', 1, 1),
('N013', '居民区1', '住宅', 'C', 0, 0),
('N014', '居民区2', '住宅', 'C', -1, 1),
('N015', '居民区3', '住宅', 'C', -1, 3),
('N016', '居民区4', '住宅', 'C', -2, 4),
('N017', '居民区5', '住宅', 'C', -2, 2),
('N018', '居民区6', '住宅', 'C', -3, 1),
('N019', '居民区7', '住宅', 'C', -3, 3),
('N020', '居民区8', '住宅', 'C', -4, 2),
('N021', '居民区9', '住宅', 'C', -4, 4),
('N022', '居民区10', '住宅', 'C', -5, 3),
('N023', '居民区11', '住宅', 'C', -5, 5),
('N024', '居民区12', '住宅', 'C', -6, 4);
""")
print("✅ 已插入 building_nodes 表数据")

# ✅ 插入 pipes 表（主干 + 支管 + 环路）
c.executescript("""
INSERT INTO pipes (Pipe_ID, Start_Node_ID, End_Node_ID, Diameter, Status) VALUES
('P000', 'N000', 'N002', 500, '正常'),
('P001', 'N000', 'N001', 400, '正常'),
('P002', 'N001', 'N003', 400, '正常'),
('P003', 'N002', 'N003', 300, '正常'),
('P004', 'N003', 'N004', 300, '正常'),
('P005', 'N002', 'N005', 250, '正常'),
('P006', 'N005', 'N006', 200, '正常'),
('P007', 'N005', 'N007', 200, '正常'),
('P008', 'N000', 'N008', 250, '正常'),
('P009', 'N004', 'N009', 250, '正常'),
('P010', 'N004', 'N010', 250, '正常'),
('P011', 'N010', 'N011', 200, '正常'),
('P012', 'N011', 'N012', 200, '正常'),
('P013', 'N012', 'N013', 150, '正常'),
('P014', 'N013', 'N014', 150, '正常'),
('P015', 'N014', 'N015', 150, '正常'),
('P016', 'N015', 'N016', 150, '正常'),
('P017', 'N016', 'N017', 150, '正常'),
('P018', 'N017', 'N018', 150, '正常'),
('P019', 'N018', 'N019', 150, '正常'),
('P020', 'N019', 'N020', 150, '正常'),
('P021', 'N020', 'N021', 150, '正常'),
('P022', 'N021', 'N022', 150, '正常'),
('P023', 'N022', 'N023', 150, '正常'),
('P024', 'N023', 'N024', 150, '正常');
""")
print("✅ 已插入 pipes 表数据")

# ✅ 插入 valves 表
c.executescript("""
INSERT INTO valves (Valve_ID, Controlled_Pipe_ID, Status) VALUES
('V000', 'P000', '正常'),
('V001', 'P001', '正常'),
('V002', 'P002', '正常'),
('V003', 'P003', '正常'),
('V004', 'P004', '正常'),
('V005', 'P005', '正常'),
('V006', 'P006', '正常'),
('V007', 'P007', '正常'),
('V008', 'P008', '正常'),
('V009', 'P009', '正常'),
('V010', 'P010', '正常'),
('V011', 'P011', '正常'),
('V012', 'P012', '正常'),
('V013', 'P013', '正常'),
('V014', 'P014', '正常'),
('V015', 'P015', '正常'),
('V016', 'P016', '正常'),
('V017', 'P017', '正常'),
('V018', 'P018', '正常'),
('V019', 'P019', '正常'),
('V020', 'P020', '正常'),
('V021', 'P021', '正常'),
('V022', 'P022', '正常'),
('V023', 'P023', '正常'),
('V024', 'P024', '正常');
""")
print("✅ 已插入 valves 表数据")

# ✅ 提交事务并关闭连接
conn.commit()
conn.close()
print("🎉 全部插入完成！25 节点现实型供水网络已就绪")
